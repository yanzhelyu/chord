(()=>{window.HELP_IMPROVE_VIDEOJS=!1;var S="./static/interpolation/stacked",T=240,h=[];function k(){for(var p=0;p<T;p++){var m=S+"/"+String(p).padStart(6,"0")+".jpg";h[p]=new Image,h[p].src=m}}function x(p){var m=h[p];m.ondragstart=function(){return!1},m.oncontextmenu=function(){return!1},$("#interpolation-image-wrapper").empty().append(m)}$(document).ready(function(){$(".navbar-burger").click(function(){$(".navbar-burger").toggleClass("is-active"),$(".navbar-menu").toggleClass("is-active")});for(var p={slidesToScroll:1,slidesToShow:1,loop:!0,infinite:!0,autoplay:!1,autoplaySpeed:3e3},m=bulmaCarousel.attach(".carousel",p),v=0;v<m.length;v++)m[v].on("before:show",e=>{console.log(e)});var g=document.querySelector("#my-element");g&&g.bulmaCarousel&&g.bulmaCarousel.on("before-show",function(e){console.log(e)});var C=[{id:"multi",buttonSelector:"#comparison-scene-buttons-multi",promptSelector:"#comparison-scene-prompt-multi",gridSelector:"#comparison-grid-multi",scenes:[{id:"man_dog",label:"Man & Dog"},{id:"man_man",label:"Man & Man"},{id:"sealion_ball",label:"Sea Lion & Ball"},{id:"tramp_brick",label:"Trampoline & Block"},{id:"robot_brick",label:"Robot & Block"},{id:"cat_cushion",label:"Cat & Cushion"}]},{id:"single",buttonSelector:"#comparison-scene-buttons-single",promptSelector:"#comparison-scene-prompt-single",gridSelector:"#comparison-grid-single",scenes:[{id:"lamp_lower",label:"Lamp Lower"},{id:"chest_close",label:"Chest Close"},{id:"scissor_cross",label:"Scissor Cross"},{id:"tiger_walk",label:"Tiger Walk"},{id:"tiger_sit",label:"Tiger Sit"}]}],y={man_dog:'Text prompt: "A man petting a dog."',man_man:'Text prompt: "Two men are hugging each other."',sealion_ball:'Text prompt: "A sealion nudging a ball."',tramp_brick:'Text prompt: "A block falling on a trampoline."',robot_brick:'Text prompt: "A robot arm is picking up a wooden block."',cat_cushion:'Text prompt: "A cat stepping on a cushion."',lamp_lower:'Text prompt: "The head of a lamp is lowering."',chest_close:'Text prompt: "The lid of a chest is closing shut."',scissor_cross:'Text prompt: "The blades of a pair of scissors is crossing."',tiger_walk:'Text prompt: "The tiger is walking."',tiger_sit:'Text prompt: "The tiger is sitting down."'},_=[{id:"a3d",label:"Animate3D"},{id:"aam",label:"AnimateAnyMesh"},{id:"md",label:"MotionDreamer (Original)"},{id:"md_wan",label:"MotionDreamer (Wan 2.2)"},{id:"tc",label:"TrajectoryCrafter"},{id:"ours",label:"Ours"}],A=[{id:"view1",label:"View 1"},{id:"view2",label:"View 2"}],M=[{id:"fabric",label:"Fold Fabric",prompt:'Text prompt: "Grab one end of the fabric and fold it."',video:"fabric.mp4"},{id:"lamp",label:"Lower Lamp",prompt:'Text prompt: "Lower the head of the lamp."',video:"lamp.mp4"},{id:"laptop",label:"Close Laptop",prompt:'Text prompt: "Close the lid of the laptop."',video:"laptop.mp4"},{id:"microwave",label:"Close Microwave",prompt:'Text prompt: "Close the door of the microwave."',video:"microwave.mp4"},{id:"banana",label:"Pick Banana",prompt:'Text prompt: "Pick up the banana and put it in the blue plate."',video:"banana.mp4"}],E=[{id:"robot_with_brick",label:"Robot & Brick",video:"robot_with_brick.mp4",prompt:'Text prompt: "A robot arm picking up a brick."'},{id:"cat_with_cushion",label:"Cat & Cushion",video:"cat_with_cushion.mp4",prompt:'Text prompt: "A cat stepping on a cushion."'},{id:"sealion_with_ball",label:"Sea Lion & Ball",video:"sealion_with_ball.mp4",prompt:'Text prompt: "A sealion nudging a ball."'},{id:"child_with_seasaw",label:"Child & Seesaw",video:"child_with_seasaw.mp4",prompt:'Text prompt: "A child jumps on a seesaw, sending a brick flying."'},{id:"man_with_box",label:"Men & Box",video:"man_with_box.mp4",prompt:'Text prompt: "Two men are lifting a box."'},{id:"man_with_headphone",label:"Man & Headphone",video:"man_with_headphone.mp4",prompt:'Text prompt: "A man picks up a pair of headphones and bends the headband."'},{id:"man_with_lamp",label:"Man & Lamp",video:"man_with_lamp.mp4",prompt:'Text prompt: "A man lowers the head of a lamp."'},{id:"man_with_oven_pt1",label:"Man & Microwave part 1",video:"man_with_oven_pt1.mp4",prompt:'Text prompt: "A man puts a plate in a microwave and shuts the door."'},{id:"man_with_oven_pt2",label:"Man & Microwave part 2",video:"man_with_oven_pt2.mp4",prompt:'Text prompt: "A man opens the microwave door and takes out the plate."'}],B=[{id:"man_with_eagle",label:"Man & Eagle",video:"man_with_eagle.mp4",prompt:'Text prompt: "An eagle lands on a man\u2019s arm, and the man then strokes the eagle\u2019s head."'},{id:"man_with_dog",label:"Man & Dog",video:"man_with_dog.mp4",prompt:'Text prompt: "A man petting a dog."'},{id:"man_man_hug",label:"Men Hug",video:"man_man_hug.mp4",prompt:'Text prompt: "Two men are hugging each other."'}],P=[{id:"ball",label:"Ball & Rim",video:"ball_with_net.mp4",prompt:'Text prompt: "A basketball hits the rim and bounces away."'},{id:"trampoline",label:"Trampoline & Block",video:"tramp_with_block.mp4",prompt:'Text prompt: "A block falling on a trampoline."'},{id:"dominoes",label:"Dominoes",video:"dominoes.mp4",prompt:'Text prompt: "The first domino falls down."'}];function b(e){var a=$(e.buttonSelector),o=$(e.promptSelector),c=$(e.videoSelector),s=e.scenes||[];if(!a.length||!c.length||!s.length)return;a.empty(),s.forEach(function(t,i){var n=$("<button/>",{class:"button is-light comparison-scene-button",text:t.label,"data-scene":t.id});i===0&&n.addClass("is-primary"),a.append(n)});function r(t){var i=s.find(function(u){return u.id===t})||s[0];a.find(".comparison-scene-button").removeClass("is-primary"),a.find('.comparison-scene-button[data-scene="'+i.id+'"]').addClass("is-primary"),o.length&&o.text(i.prompt||"");var n=c.get(0),d=e.videoBasePath||"./static/videos/",f=i.video||i.id+".mp4";c.find("source").attr("src",d+f),n.load(),n.play().catch(function(){})}a.on("click",".comparison-scene-button",function(){var t=$(this).data("scene");r(t)}),r(s[0].id)}function j(e){var a=$(e.buttonSelector),o=$(e.gridSelector),c=$(e.promptSelector);if(!a.length||!o.length)return;function s(r){if(o.length){var t=r||(e.scenes.length?e.scenes[0].id:null);if(t){a.find(".comparison-scene-button").removeClass("is-primary"),a.find('.comparison-scene-button[data-scene="'+t+'"]').addClass("is-primary"),c.length&&c.text(y[t]||""),o.empty(),o.css("grid-template-columns","120px repeat("+_.length+", minmax(0, 1fr))"),A.forEach(function(n){var d=$("<div/>",{class:"comparison-view-label",text:n.label});o.append(d),_.forEach(function(f){var u=$("<div/>",{class:"comparison-video-wrapper"}),l=$("<video/>",{class:"comparison-video",playsinline:!0});l.prop("muted",!0),l.prop("loop",!0),l.prop("autoplay",!0),l.attr("muted","muted"),l.attr("loop","loop"),l.attr("autoplay","autoplay"),l.attr("playsinline","playsinline");var I=$("<source/>",{src:"./static/videos/comparison/"+f.id+"/"+t+"/"+n.id+".mp4",type:"video/mp4"});l.append(I),u.append(l),o.append(u);var w=l.get(0);w&&w.play&&w.play().catch(function(){})})});var i=$("<div/>",{class:"comparison-bottom-corner"});o.append(i),_.forEach(function(n){var d=$("<div/>",{class:"comparison-method-label",text:n.label});o.append(d)})}}}e.scenes.forEach(function(r,t){var i=$("<button/>",{class:"button is-light comparison-scene-button",text:r.label,"data-scene":r.id});t===0&&i.addClass("is-primary"),a.append(i)}),a.on("click",".comparison-scene-button",function(){var r=$(this).data("scene");s(r)}),e.scenes.length&&s(e.scenes[0].id)}C.forEach(function(e){j(e)}),b({buttonSelector:"#results-agents-objects-buttons",promptSelector:"#results-agents-objects-prompt",videoSelector:"#results-agents-objects-video",scenes:E,videoBasePath:"./static/videos/"}),b({buttonSelector:"#results-agents-eachother-buttons",promptSelector:"#results-agents-eachother-prompt",videoSelector:"#results-agents-eachother-video",scenes:B,videoBasePath:"./static/videos/"}),b({buttonSelector:"#results-objects-objects-buttons",promptSelector:"#results-objects-objects-prompt",videoSelector:"#results-objects-objects-video",scenes:P,videoBasePath:"./static/videos/"}),b({buttonSelector:"#robot-scene-buttons",promptSelector:"#robot-scene-prompt",videoSelector:"#robot-video",scenes:M,videoBasePath:"./static/videos/robot_demo/"}),(function(){var a={robot:{prompt:"A robot arm picking up a brick.",playback:"./data/robot_interactive.viser"},cat:{prompt:"A cat stepping onto a cushion.",playback:"./data/cat_interactive.viser"}},o=$("#viser-scene-buttons"),c=$("#viser-scene-prompt"),s=$("#viser-viewer-frame");if(!o.length||!s.length)return;function r(t){var i=a[t]||a.robot;o.find(".comparison-scene-button").removeClass("is-primary"),o.find('.comparison-scene-button[data-viser-scene="'+t+'"]').addClass("is-primary"),c.length&&c.text(i.prompt);var n=encodeURI(i.playback);s.attr("src","./static/viser_viewer/index.html?playbackPath="+n+"&darkMode")}o.on("click",".comparison-scene-button",function(){var t=$(this).data("viser-scene");r(t)}),r("robot")})(),k(),$("#interpolation-slider").on("input",function(e){x(this.value)}),x(0),$("#interpolation-slider").prop("max",T-1),bulmaSlider.attach()})})();
